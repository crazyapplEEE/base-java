<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.regulation.mapper.ZyRegulationBjmoaDeptMapper">
    <select id="getByRegulationCodeAndVersion" resultType="org.jeecg.modules.regulation.entity.ZyRegulationBjmoaDept">
        SELECT *
        FROM zy_regulation_bjmoa_dept
        WHERE del_flag = 0
            AND code = #{code}
            AND version = #{version}
    </select>

    <select id="getByIdentifierAndVersion" resultType="org.jeecg.modules.regulation.entity.ZyRegulationBjmoaDept">
        SELECT *
        FROM zy_regulation_bjmoa_dept
        WHERE del_flag = 0
          AND identifier = #{identifier}
          AND version = #{version}
    </select>

    <select id="getByIdentifier" resultType="org.jeecg.modules.regulation.entity.ZyRegulationBjmoaDept">
        SELECT *
        FROM zy_regulation_bjmoa_dept
        WHERE del_flag = 0
          AND identifier = #{identifier}
        ORDER BY id DESC
    </select>

    <select id="getByQiqiaoDeptIdList" resultType="org.jeecg.modules.regulation.entity.ZyRegulationBjmoaDept">
        SELECT *
        FROM zy_regulation_bjmoa_dept
        WHERE del_flag = 0
        AND qiqiao_dept_id IN
        <foreach collection="deptIdList" item="deptId" index="index" open="("
                 close=")" separator=",">
            #{deptId}
        </foreach>
    </select>
</mapper>
